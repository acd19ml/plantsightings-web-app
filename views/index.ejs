<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel='stylesheet' href='/stylesheets/style.css' />

</head>
<body>
<h1><%= title %></h1>
<div class="container-fluid">
    <div class="row">
        <!-- Left side: Filters -->
        <div class="col-md-3">
            <div class="accordion" id="filterAccordion">
                <!-- Identification Status Accordion -->
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingStatus">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseStatus" aria-expanded="false" aria-controls="collapseStatus">
                            Identification Status
                        </button>
                    </h2>
                    <div id="collapseStatus" class="accordion-collapse collapse show" aria-labelledby="headingStatus" data-bs-parent="#filterAccordion">
                        <div class="accordion-body">
                            <form action="/" method="GET">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="status" id="statusAll" value="" <%= filters.status === '' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="statusAll">All</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="status" id="statusCompleted" value="completed" <%= filters.status === 'completed' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="statusCompleted">Completed</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="status" id="statusInProgress" value="in-progress" <%= filters.status === 'in-progress' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="statusInProgress">In Progress</label>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Flower Accordion -->
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFlowers">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFlowers" aria-expanded="false" aria-controls="collapseFlowers">
                            Flowers
                        </button>
                    </h2>
                    <div id="collapseFlowers" class="accordion-collapse collapse" aria-labelledby="headingFlowers" data-bs-parent="#filterAccordion">
                        <div class="accordion-body">
                            <form action="/" method="GET">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flowers" id="flowersAll" value="" <%= filters.flowers === '' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="flowersAll">All</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flowers" id="flowersTrue" value="true" <%= filters.flowers === 'true' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="flowersTrue">With Flowers</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flowers" id="flowersFalse" value="false" <%= filters.flowers === 'false' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="flowersFalse">Without Flowers</label>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Leaves Accordion -->
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingLeaves">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseLeaves" aria-expanded="false" aria-controls="collapseLeaves">
                            Leaves
                        </button>
                    </h2>
                    <div id="collapseLeaves" class="accordion-collapse collapse" aria-labelledby="headingLeaves" data-bs-parent="#filterAccordion">
                        <div class="accordion-body">
                            <form action="/" method="GET">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="leaves" id="leavesAll" value="" <%= filters.leaves === '' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="leavesAll">All</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="leaves" id="leavesTrue" value="true" <%= filters.leaves === 'true' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="leavesTrue">With Leaves</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="leaves" id="leavesFalse" value="false" <%= filters.leaves === 'false' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="leavesFalse">Without Leaves</label>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Fruits/Seeds Accordion -->
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFruitsSeeds">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFruitsSeeds" aria-expanded="false" aria-controls="collapseFruitsSeeds">
                            Fruits/Seeds
                        </button>
                    </h2>
                    <div id="collapseFruitsSeeds" class="accordion-collapse collapse" aria-labelledby="headingFruitsSeeds" data-bs-parent="#filterAccordion">
                        <div class="accordion-body">
                            <form action="/" method="GET">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="fruitsOrSeeds" id="fruitsOrSeedsAll" value="" <%= filters.fruitsOrSeeds === '' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="fruitsOrSeedsAll">All</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="fruitsOrSeeds" id="fruitsOrSeedsTrue" value="true" <%= filters.fruitsOrSeeds === 'true' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="fruitsOrSeedsTrue">With Fruits/Seeds</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="fruitsOrSeeds" id="fruitsOrSeedsFalse" value="false" <%= filters.fruitsOrSeeds === 'false' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="fruitsOrSeedsFalse">Without Fruits/Seeds</label>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Sun Exposure Accordion -->
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSunExposure">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSunExposure" aria-expanded="false" aria-controls="collapseSunExposure">
                            Sun Exposure
                        </button>
                    </h2>
                    <div id="collapseSunExposure" class="accordion-collapse collapse" aria-labelledby="headingSunExposure" data-bs-parent="#filterAccordion">
                        <div class="accordion-body">
                            <form action="/" method="GET">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="sunExposure" id="sunExposureAll" value="" <%= filters.sunExposure === '' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="sunExposureAll">All</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="sunExposure" id="sunExposureFullSun" value="full sun" <%= filters.sunExposure === 'full sun' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="sunExposureFullSun">Full Sun</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="sunExposure" id="sunExposurePartialShade" value="partial shade" <%= filters.sunExposure === 'partial shade' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="sunExposurePartialShade">Partial Shade</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="sunExposure" id="sunExposureFullShade" value="full shade" <%= filters.sunExposure === 'full shade' ? 'checked' : '' %> onchange="this.form.submit()">
                                    <label class="form-check-label" for="sunExposureFullShade">Full Shade</label>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Right side: Plant Sightings -->
        <div class="col-md-9">
            <!-- Sort Dropdown Menu -->
            <div class="row justify-content-end mb-3">
                <div class="col-auto">

                    <button id="addNewPlantSighting" class="btn btn-success">Add New Plant Sighting</button>
                    <button id="myPlants" class="btn btn-light me-md-2">Show My Plants</button>
                    <button id="showAll" class="btn btn-light">Show All Plants</button>
                </div>
                <div class="col-auto">
                    <form action="/" method="GET" id="sortForm">
                        <div class="form-group">
                            <label for="sortOrder">Sort By:</label>
                            <select name="sortOrder" id="sortOrder" class="form-control" onchange="handleSortChange(this)">
                                <option value="newest" <%= sortOrder === 'newest' ? 'selected' : '' %>>Date (Newest)</option>
                                <option value="oldest" <%= sortOrder === 'oldest' ? 'selected' : '' %>>Date (Oldest)</option>
                                <option value="distance" <%= sortOrder === 'distance' ? 'selected' : '' %>>Distance</option>
                            </select>
                        </div>
                    </form>
                </div>

            </div>
            <hr>
<!--            <div class="d-grid gap-2 d-md-flex justify-content-md-end">-->
<!--            <button id="myPlants" class="btn btn-primary me-md-2">Show My Plants</button>-->
<!--            <button id="showAll" class="btn btn-secondary ">Show All Plants</button>-->
<!--            </div>-->

            <div class="row" id="planrow">

            </div>
        </div>
    </div>
</div>




</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/javascripts/distance.js"></script>
<script src="/javascripts/add.js"></script>
<script src="/javascripts/index.js"></script>
<script src="/javascripts/idb-utility.js"></script>
</html>



